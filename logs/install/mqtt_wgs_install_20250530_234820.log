
================================================================================
DÉMARRAGE: mqtt_wgs_install
Description: Installation MQTT Widgets (cache local)
Date: Fri 30 May 23:48:20 CEST 2025
Utilisateur: root
Répertoire: /media/prod/MAXLINK
================================================================================

[2025-05-30 23:48:20] [INFO] [mqtt_wgs_install] Script mqtt_wgs_install initialisé
[2025-05-30 23:48:20] [INFO] [mqtt_wgs_install] ========== DÉBUT DE L'INSTALLATION MQTT WIDGETS (OPTIMISÉE) ==========
[2025-05-30 23:48:20] [INFO] [mqtt_wgs_install] Progression: 5% - Initialisation...
[2025-05-30 23:48:20] [INFO] [mqtt_wgs_install] Privilèges root confirmés
[2025-05-30 23:48:23] [INFO] [mqtt_wgs_install] Stabilisation du système
[2025-05-30 23:48:23] [INFO] [mqtt_wgs_install] Progression: 10% - Vérifications...
[2025-05-30 23:48:23] [INFO] [mqtt_wgs_install] Cache des paquets trouvé
[2025-05-30 23:48:23] [INFO] [mqtt_wgs_install] Vérification du broker MQTT
[2025-05-30 23:48:23] [SUCCESS] [mqtt_wgs_install] Connexion MQTT fonctionnelle
[2025-05-30 23:48:25] [INFO] [mqtt_wgs_install] Progression: 20% - Scan des widgets...
[2025-05-30 23:48:25] [INFO] [mqtt_wgs_install] Scan du répertoire des widgets: /media/prod/MAXLINK/scripts/widgets
[2025-05-30 23:48:25] [WARN] [mqtt_wgs_install] Widget incomplet ignoré: servermonitoring
[2025-05-30 23:48:25] [WARN] [mqtt_wgs_install]   - servermonitoring_test.sh manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - servermonitoring_uninstall.sh manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install] Widget incomplet ignoré: wifistats
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - wifistats_widget.json manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - wifistats_install.sh manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - wifistats_test.sh manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - wifistats_uninstall.sh manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install] Widget incomplet ignoré: mqttstats
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - mqttstats_widget.json manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - mqttstats_install.sh manquant
[2025-05-30 23:48:26] [WARN] [mqtt_wgs_install]   - mqttstats_test.sh manquant
[2025-05-30 23:48:27] [WARN] [mqtt_wgs_install]   - mqttstats_uninstall.sh manquant
[2025-05-30 23:48:27] [WARN] [mqtt_wgs_install] Aucun widget valide trouvé
[2025-05-30 23:48:27] [INFO] [mqtt_wgs_install] Widgets trouvés: [INFO] Scan du répertoire des widgets: /media/prod/MAXLINK/scripts/widgets [WARN] Widget incomplet ignoré: servermonitoring [WARN]   - servermonitoring_test.sh manquant [WARN]   - servermonitoring_uninstall.sh manquant [WARN] Widget incomplet ignoré: wifistats [WARN]   - wifistats_widget.json manquant [WARN]   - wifistats_install.sh manquant [WARN]   - wifistats_test.sh manquant [WARN]   - wifistats_uninstall.sh manquant [WARN] Widget incomplet ignoré: mqttstats [WARN]   - mqttstats_widget.json manquant [WARN]   - mqttstats_install.sh manquant [WARN]   - mqttstats_test.sh manquant [WARN]   - mqttstats_uninstall.sh manquant [WARN] Aucun widget valide trouvé   ↦ Aucun widget valide trouvé ⚠
[2025-05-30 23:48:29] [INFO] [mqtt_wgs_install] Progression: 30% - Installation des dépendances...
[2025-05-30 23:48:29] [INFO] [mqtt_wgs_install] Installation des dépendances Python depuis le cache
[2025-05-30 23:48:29] [INFO] [mqtt_wgs_install] Installation des paquets de la catégorie: python
[2025-05-30 23:48:29] [INFO] [mqtt_wgs_install] Installation du paquet depuis le cache: python3-psutil
[2025-05-30 23:48:30] [SUCCESS] [mqtt_wgs_install] Paquet installé depuis le cache: python3-psutil
[2025-05-30 23:48:30] [INFO] [mqtt_wgs_install] Installation du paquet depuis le cache: python3-paho-mqtt
[2025-05-30 23:48:31] [SUCCESS] [mqtt_wgs_install] Paquet installé depuis le cache: python3-paho-mqtt
[2025-05-30 23:48:31] [INFO] [mqtt_wgs_install] Installation du paquet depuis le cache: python3-pip
[2025-05-30 23:48:35] [SUCCESS] [mqtt_wgs_install] Paquet installé depuis le cache: python3-pip
[2025-05-30 23:48:35] [INFO] [mqtt_wgs_install] Installation du paquet depuis le cache: python3-setuptools
[2025-05-30 23:48:37] [SUCCESS] [mqtt_wgs_install] Paquet installé depuis le cache: python3-setuptools
[2025-05-30 23:48:37] [SUCCESS] [mqtt_wgs_install] Dépendances Python installées depuis le cache
[2025-05-30 23:48:39] [INFO] [mqtt_wgs_install] Progression: 40% - Installation des widgets...
[2025-05-30 23:48:39] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [INFO] Scan du répertoire des widgets: /media/prod/MAXLINK/scripts/widgets
[2025-05-30 23:48:39] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [INFO] Scan du répertoire des widgets: /media/prod/MAXLINK/scripts/widgets
[2025-05-30 23:48:39] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [INFO] Scan du répertoire des widgets: /media/prod/MAXLINK/scripts/widgets
[2025-05-30 23:48:41] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN] Widget incomplet ignoré: servermonitoring
[2025-05-30 23:48:42] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN] Widget incomplet ignoré: servermonitoring
[2025-05-30 23:48:42] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN] Widget incomplet ignoré: servermonitoring
[2025-05-30 23:48:44] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - servermonitoring_test.sh manquant
[2025-05-30 23:48:44] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - servermonitoring_test.sh manquant
[2025-05-30 23:48:44] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - servermonitoring_test.sh manquant
[2025-05-30 23:48:46] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - servermonitoring_uninstall.sh manquant
[2025-05-30 23:48:46] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - servermonitoring_uninstall.sh manquant
[2025-05-30 23:48:46] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - servermonitoring_uninstall.sh manquant
[2025-05-30 23:48:48] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN] Widget incomplet ignoré: wifistats
[2025-05-30 23:48:49] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN] Widget incomplet ignoré: wifistats
[2025-05-30 23:48:49] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN] Widget incomplet ignoré: wifistats
[2025-05-30 23:48:51] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - wifistats_widget.json manquant
[2025-05-30 23:48:51] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - wifistats_widget.json manquant
[2025-05-30 23:48:51] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - wifistats_widget.json manquant
[2025-05-30 23:48:53] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - wifistats_install.sh manquant
[2025-05-30 23:48:53] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - wifistats_install.sh manquant
[2025-05-30 23:48:53] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - wifistats_install.sh manquant
[2025-05-30 23:48:55] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - wifistats_test.sh manquant
[2025-05-30 23:48:55] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - wifistats_test.sh manquant
[2025-05-30 23:48:56] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - wifistats_test.sh manquant
[2025-05-30 23:48:58] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - wifistats_uninstall.sh manquant
[2025-05-30 23:48:58] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - wifistats_uninstall.sh manquant
[2025-05-30 23:48:58] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - wifistats_uninstall.sh manquant
[2025-05-30 23:49:00] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN] Widget incomplet ignoré: mqttstats
[2025-05-30 23:49:00] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN] Widget incomplet ignoré: mqttstats
[2025-05-30 23:49:00] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN] Widget incomplet ignoré: mqttstats
[2025-05-30 23:49:02] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - mqttstats_widget.json manquant
[2025-05-30 23:49:02] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - mqttstats_widget.json manquant
[2025-05-30 23:49:03] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - mqttstats_widget.json manquant
[2025-05-30 23:49:05] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - mqttstats_install.sh manquant
[2025-05-30 23:49:05] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - mqttstats_install.sh manquant
[2025-05-30 23:49:05] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - mqttstats_install.sh manquant
[2025-05-30 23:49:07] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - mqttstats_test.sh manquant
[2025-05-30 23:49:07] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - mqttstats_test.sh manquant
[2025-05-30 23:49:07] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - mqttstats_test.sh manquant
[2025-05-30 23:49:09] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN]   - mqttstats_uninstall.sh manquant
[2025-05-30 23:49:09] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN]   - mqttstats_uninstall.sh manquant
[2025-05-30 23:49:10] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN]   - mqttstats_uninstall.sh manquant
[2025-05-30 23:49:12] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour [WARN] Aucun widget valide trouvé
[2025-05-30 23:49:12] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget [WARN] Aucun widget valide trouvé
[2025-05-30 23:49:12] [INFO] [mqtt_wgs_install] Progression: 40% - Installation: [WARN] Aucun widget valide trouvé
[2025-05-30 23:49:14] [INFO] [mqtt_wgs_install] Exécution du script d'installation pour   ↦ Aucun widget valide trouvé ⚠
[2025-05-30 23:49:14] [ERROR] [mqtt_wgs_install] Échec de l'installation du widget   ↦ Aucun widget valide trouvé ⚠
[2025-05-30 23:49:14] [INFO] [mqtt_wgs_install] Progression: 40% - Installation:   ↦ Aucun widget valide trouvé ⚠
[2025-05-30 23:49:16] [INFO] [mqtt_wgs_install] Progression: 90% - Tests des widgets...
[2025-05-30 23:49:18] [WARN] [mqtt_wgs_install] Service maxlink-widget-[INFO] Scan du répertoire des widgets: /media/prod/MAXLINK/scripts/widgets inactif
[2025-05-30 23:49:18] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN] Widget incomplet ignoré: servermonitoring inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - servermonitoring_test.sh manquant inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - servermonitoring_uninstall.sh manquant inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN] Widget incomplet ignoré: wifistats inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - wifistats_widget.json manquant inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - wifistats_install.sh manquant inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - wifistats_test.sh manquant inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - wifistats_uninstall.sh manquant inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN] Widget incomplet ignoré: mqttstats inactif
[2025-05-30 23:49:19] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - mqttstats_widget.json manquant inactif
[2025-05-30 23:49:20] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - mqttstats_install.sh manquant inactif
[2025-05-30 23:49:20] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - mqttstats_test.sh manquant inactif
[2025-05-30 23:49:20] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN]   - mqttstats_uninstall.sh manquant inactif
[2025-05-30 23:49:20] [WARN] [mqtt_wgs_install] Service maxlink-widget-[WARN] Aucun widget valide trouvé inactif
[2025-05-30 23:49:20] [WARN] [mqtt_wgs_install] Service maxlink-widget-  ↦ Aucun widget valide trouvé ⚠ inactif
[2025-05-30 23:49:20] [INFO] [mqtt_wgs_install] Services actifs: 0/0
[2025-05-30 23:49:25] [INFO] [mqtt_wgs_install] Aucun message MQTT reçu immédiatement
[2025-05-30 23:49:25] [INFO] [mqtt_wgs_install] Progression: 100% - Installation terminée
[2025-05-30 23:49:25] [WARN] [mqtt_wgs_install] Installation MQTT WGS terminée avec 16 erreurs
[2025-05-30 23:49:26] [INFO] [mqtt_wgs_install] Résumé final - Installés: 0/0, Actifs: 0
[2025-05-30 23:49:26] [INFO] [mqtt_wgs_install] Script mqtt_wgs_install terminé avec le code 16

================================================================================
FIN: mqtt_wgs_install
Code de sortie: 16
Durée: 66 secondes
================================================================================

